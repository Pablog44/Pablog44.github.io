<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Carrera Ovalada 3D</title>
    <link rel="stylesheet" href="style.css">
    <!-- Import map para Three.js y Stats.js desde CDN -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "stats.js/src/Stats": "https://unpkg.com/stats-js@1.0.1/build/stats.min.js"
            }
        }
    </script>
</head>
<body>
    <div id="start-screen">
        <h1>Carrera Ovalada 3D</h1>
        <p>Selecciona el modo de juego:</p>
        <button id="one-player-btn">1 Jugador</button>
        <button id="two-players-btn">2 Jugadores</button>
        <div id="gamepad-status">
            <p>Detectando gamepads...</p>
            <ul id="gamepad-list"></ul>
        </div>
         <p class="instructions">
            <strong>Controles (Gamepad):</strong><br>
            Joystick Izquierdo / D-Pad: Girar<br>
            Gatillo Derecho / Bot贸n A (o similar): Acelerar<br>
            Gatillo Izquierdo / Bot贸n B (o similar): Frenar / Reversa
        </p>
    </div>

    <div id="game-container" class="hidden">
        <!-- Canvas principal para Three.js -->
        <canvas id="game-canvas"></canvas>

        <!-- Canvas para el Minimapa -->
        <canvas id="minimap-canvas"></canvas>

        <!-- Contenedor para Stats.js (FPS) -->
        <div id="stats-output"></div>

        <!-- HUDs para los jugadores -->
        <div class="hud" id="hud1">Vueltas P1: 0</div>
        <div class="hud" id="hud2" style="left: 51%;">Vueltas P2: 0</div> <!-- Posici贸n ajustada para pantalla dividida -->
    </div>

    <!-- Script principal como m贸dulo -->
    <script type="module" src="script.js"></script>
</body>
</html>